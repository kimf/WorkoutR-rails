<%= render 'calendar_header' %>
<div class="calendar-wrapper">
  <%= week_calendar number_of_weeks: @num_weeks, start_date: @start, attribute: :planned_date, events: @workouts do |date, workouts| %>
    <small><%= date.strftime('%d %b') %></small>

    <% workouts.each do |workout| %>
      <div class="workout <%=workout.planned_sport.name%>">
        <%= t(workout.planned_sport.name) %>
        <% if workout.planned_workout_type %>
          <%= workout.planned_workout_type.name %>
        <% end %>
        <%= render_if(workout.planned_minutes, 'min') %>
        <%= render_if(workout.planned_km, 'km') %>
        <%= render_if(workout.description) %>
      </div>
    <% end %>
  <% end %>
</div>